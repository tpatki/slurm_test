<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                        "http://www.w3.org/TR/REC-html40/loose.dtd">

<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="keywords" content="Simple Linux Utility for Resource Management, SLURM, resource management,
Linux clusters, high-performance computing, Livermore Computing">
<meta name="description" content="Simple Linux Utility for Resource Management">
<title>Simple Linux Utility for Resource Management</title>
<link href="linuxstyles.css" rel="stylesheet" type="text/css">
<link href="slurmstyles.css" rel="stylesheet" type="text/css">
</head>

<body><div id="container">

<div id="banner">
<img src="slurm_banner.gif" width="800" height="100" border="0" usemap="#Map">
</div>

<div id="navigation">

<h2><a href="slurm.html" class="nav">Home</a></h2>

<h2>About</h2>
<ul>
	  <li><a href="overview.html" class="nav">Overview</a></li>
	  <li><a href="meetings.html" class="nav">Meetings</a></li>
	  <li><a href="news.html" class="nav">What's New</a></li>
	  <li><a href="publications.html" class="nav">Publications</a></li>
	  <li><a href="testimonials.html" class="nav">Testimonials</a></li>
	  <li><a href="team.html" class="nav">SLURM Team</a></li>
</ul>
<h2>Using</h2>
<ul>
	  <li><a href="documentation.html" class="nav">Documentation</a></li>
	  <li><a href="faq.html" class="nav">FAQ</a></li>
	  <li><a href="help.html" class="nav">Getting Help</a></li>
	  <li><a href="mail.html"  class="nav">Mailing Lists</a></p>
</ul>
<h2>Installing</h2>
<ul>
	  <li><a href="platforms.html" class="nav">Platforms</a></li>
	  <li><a href="download.html" class="nav">Download</a></li>
	  <li><a href="download.html#related" class="nav">Related Software</a></li>
	  <li><a href="quickstart_admin.html" class="nav">Guide</a></li>
</ul>
</div>

<div id="content">


<H1>SREPORT</H1>
Section: Slurm components (1)<BR>Updated: October 2010<BR><A HREF="#index">Index</A>

<P>
<A NAME="lbAB">&nbsp;</A>
<a id="SECTION_NAME"></a>
<H2>NAME</H2>

sreport - Generate reports from the slurm accounting data.
<P>
<A NAME="lbAC">&nbsp;</A>
<a id="SECTION_SYNOPSIS"></a>
<H2>SYNOPSIS</H2>

<B>sreport</B> [<I>OPTIONS</I>...] [<I>COMMAND</I>...]
<P>
<A NAME="lbAD">&nbsp;</A>
<a id="SECTION_DESCRIPTION"></a>
<H2>DESCRIPTION</H2>

<B>sreport</B> is used to generate reports of job usage and cluster
utilization for SLURM jobs saved to the SLURM Database,
<B>slurmdbd</B>.
<P>
<A NAME="lbAE">&nbsp;</A>
<a id="SECTION_OPTIONS"></a>
<H2>OPTIONS</H2>

<P>
<DL COMPACT>
<a id="OPT_all_clusters"></a>
<DT><B>-a</B>, <B>--all_clusters</B><DD>
Use all clusters instead of only the cluster from where the command was run.
<a id="OPT_help"></a>
<DT><B>-h</B>, <B>--help</B><DD>
Print a help message describing the usage of <B>sreport</B>.
<a id="OPT_noheader"></a>
<DT><B>-n</B>, <B>--noheader</B><DD>
Don't display header when listing results.
<a id="OPT_parsable"></a>
<DT><B>-p</B>, <B>--parsable</B><DD>
Output will be '|' delimited with a '|' at the end.
<a id="OPT_parsable2"></a>
<DT><B>-P</B>, <B>--parsable2</B><DD>
Output will be '|' delimited without a '|' at the end.
<a id="OPT_quiet"></a>
<DT><B>-Q</B>, <B>--quiet</B><DD>
Print no warning or informational messages, only error messages.
<a id="OPT_-t &lt;format&gt;"></a>
<DT><B>-t &lt;format&gt;</B><DD>
Specify the output time format. Time format options are case
insensitive and may be abbreviated. The default format is Minutes.
Supported time format options are listed in the <B>time</B> command
section below.
<a id="OPT_verbose"></a>
<DT><B>-v</B>, <B>--verbose</B><DD>
Print detailed event logging.
<a id="OPT_version"></a>
<DT><B>-V</B> , <B>--version</B><DD>
Print version information and exit.
<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<a id="SECTION_COMMANDS"></a>
<H2>COMMANDS</H2>

<P>
<DL COMPACT>
<DT>&lt;keyword&gt; may be omitted from the execute line and sreport will<DD>
execute in interactive mode. sreport will process commands as entered until
explicitly terminated.
<P>
<a id="OPT_exit"></a>
<DT><B>exit</B><DD>
Terminate the execution of sreport.
Identical to the <B>quit</B> command.
<P>
<a id="OPT_help"></a>
<DT><B>help</B><DD>
Display a description of sreport options and commands.
<P>
<a id="OPT_nonparsable"></a>
<DT><B>nonparsable</B><DD>
Return output to normal after parsable or parsable2 has been set.
<P>
<a id="OPT_parsable"></a>
<DT><B>parsable</B><DD>
Output will be | delimited with an ending '|'.
<P>
<a id="OPT_parsable2"></a>
<DT><B>parsable2</B><DD>
Output will be | delimited without an ending '|'.
<P>
<a id="OPT_quiet"></a>
<DT><B>quiet</B><DD>
Print no warning or informational messages, only fatal error messages.
<P>
<a id="OPT_quit"></a>
<DT><B>quit</B><DD>
Terminate the execution of sreport.
Identical to the <B>exit</B> command.
<P>
<a id="OPT_time &lt;time_format&gt;"></a>
<DT><B>time &lt;time_format&gt;</B><DD>
Specify the output time format. Time format options are case
insensitive and may be abbreviated. The default format is Minutes.
Supported time format options include:
<P>
<DL COMPACT><DT><DD>
<DL COMPACT>
<a id="OPT_SecPer"></a>
<DT><B>SecPer</B><DD>
Seconds/Percentage of Total
<a id="OPT_MinPer"></a>
<DT><B>MinPer</B><DD>
Minutes/Percentage of Total
<a id="OPT_HourPer"></a>
<DT><B>HourPer</B><DD>
Hours/Percentage of Total
<a id="OPT_Seconds"></a>
<DT><B>Seconds</B><DD>
Seconds
<a id="OPT_Minutes"></a>
<DT><B>Minutes</B><DD>
Minutes
<a id="OPT_Hours"></a>
<DT><B>Hours</B><DD>
Hours
<a id="OPT_Percent"></a>
<DT><B>Percent</B><DD>
Percentage of Total
</DL>
</DL>

<P>
<a id="OPT_verbose"></a>
<DT><B>verbose</B><DD>
Enable detailed event logging.
<P>
<a id="OPT_version"></a>
<DT><B>version</B><DD>
Display the sreport version number.
<P>
<a id="OPT_!!"></a>
<DT><B>!!</B><DD>
Repeat the last command executed.
<P>
</DL>
<A NAME="lbAG">&nbsp;</A>
<a id="SECTION_REPORT TYPES"></a>
<H2>REPORT TYPES</H2>

<DL COMPACT>
<DT>Valid report types are:<DD>
<B>cluster</B> &lt;REPORT&gt; &lt;OPTIONS&gt;
<P>
<B>job</B> &lt;REPORT&gt; &lt;OPTIONS&gt;
<P>
<B>user</B> &lt;REPORT&gt; &lt;OPTIONS&gt;
<P>
<DT>&lt;REPORT&gt; options for each type include:<DD>
<P>
<B>cluster</B>

- AccountUtilizationByUser, UserUtilizationByAccount,
UserUtilizationByWckey, Utilization, WCKeyUtilizationByUser
<P>
<B>job</B>

- SizesByAccount, SizesByAccountAndWcKey, SizesByWckey
<P>
<B>reservation</B>

- Utilization
<P>
<B>user</B>

- TopUsage
<P>
</DL>
<A NAME="lbAH">&nbsp;</A>
<a id="SECTION_REPORT DESCRIPTION"></a>
<H2>REPORT DESCRIPTION</H2>

<P>
<DL COMPACT>
<a id="OPT_cluster AccountUtilizationByUser"></a>
<DT><B>cluster AccountUtilizationByUser</B>

<DD>
This report will display account utilization as it appears on the
hierarchical tree.  Starting with the specified account or the
root account by default this report will list the underlying
usage with a sum on each level.  Use the 'tree' option to span
the tree for better visibility.
<a id="OPT_cluster UserUtilizationByAccount"></a>
<DT><B>cluster UserUtilizationByAccount</B>

<DD>
This report will display users by account in order of utilization without
grouping multiple accounts by user into one, but displaying them
on separate lines.
<a id="OPT_cluster UserUtilizationByWCKey"></a>
<DT><B>cluster UserUtilizationByWCKey</B>

<DD>
This report will display users by wckey in order of utilization without
grouping multiple wckey by user into one, but displaying them
on separate lines.
<a id="OPT_cluster Utilization"></a>
<DT><B>cluster Utilization</B>

<DD>
This report will display total usage divided by Allocated, Down,
Idle, and Reserved time for selected clusters.  Reserved time
refers to time that a job was waiting for resources after the job
had become eligible.  If the value is not of importance for you
the number should be grouped with idle time.
<a id="OPT_cluster WCKeyUtilizationByUser"></a>
<DT><B>cluster WCKeyUtilizationByUser</B>

<DD>
This report will display wckey utilization sorted by WCKey name for
each user on each cluster.
<P>
<a id="OPT_job SizesByAccount"></a>
<DT><B>job SizesByAccount</B>

<DD>
This report will dispay the amount of time used for job ranges
specified by the 'grouping=' option.  Only a single level in the tree
is displayed defaulting to the root dir.  If you specify other
accounts with the 'account=' option sreport will use those accounts as
the root account and you will receive the sub accounts for the
accounts listed.
<a id="OPT_job SizesByAccountAndWckey"></a>
<DT><B>job SizesByAccountAndWckey</B>

<DD>
This report is very similar to SizesByAccount with the difference being
each account is pair with wckeys so the identifier is account:wckey
instead of just account so there will most likely be multiple accounts
listed depending on the number of wckeys used.
<a id="OPT_job SizesByWckey"></a>
<DT><B>job SizesByWckey</B>

<DD>
This report will dispay the amount of time for each wckey for job ranges
specified by the 'grouping=' option.
<P>
<a id="OPT_reservation Utilization"></a>
<DT><B>reservation Utilization</B>

<DD>
This report will display total usage for reservations on the systems.
<P>
<a id="OPT_user TopUsage"></a>
<DT><B>user TopUsage</B>

<DD>
Displays the top users on a cluster.  Use the group option to group
accounts together.  The default is to have a different line for each
user account combination.
<P>
<DT>Each report type has various options...<DD>
<P>
<a id="OPT_OPTIONS FOR ALL REPORT TYPES"></a>
<DT><B>OPTIONS FOR ALL REPORT TYPES</B>

<DD>
<P>
<a id="OPT_All_Clusters"></a>
<DT><B>All_Clusters</B>

<DD>
Use all monitored clusters. Default is local cluster.
<a id="OPT_Clusters=&lt;OPT&gt;"></a>
<DT><B>Clusters=&lt;OPT&gt;</B>

<DD>
List of clusters to include in report.  Default is local cluster.
<P>
<a id="OPT_End=&lt;OPT&gt;"></a>
<DT><B>End=&lt;OPT&gt;</B>

<DD>
Period ending for report. Default is 23:59:59 of previous day.
Valid time formats are...
<P>
HH:MM[:SS] [AM|PM]
<BR>

MMDD[YY] or MM/DD[/YY] or MM.DD[.YY]
<BR>

MM/DD[/YY]-HH:MM[:SS]
<BR>

YYYY-MM-DD[THH:MM[:SS]]
<P>
<a id="OPT_Format=&lt;OPT&gt;"></a>
<DT><B>Format=&lt;OPT&gt;</B>

<DD>
Comma separated list of fields to display in report.
<P>
When using the format option for listing various fields you can put a
%NUMBER afterwards to specify how many characters should be printed.
<P>
e.g. format=name%30 will print 30 characters of field name right
justified.  A -30 will print 30 characters left justified.
<P>
<a id="OPT_Start=&lt;OPT&gt;"></a>
<DT><B>Start=&lt;OPT&gt;</B>

<DD>
Period start for report.  Default is 00:00:00 of previous day.
Valid time formats are...
<P>
HH:MM[:SS] [AM|PM]
<BR>

MMDD[YY] or MM/DD[/YY] or MM.DD[.YY]
<BR>

MM/DD[/YY]-HH:MM[:SS]
<BR>

YYYY-MM-DD[THH:MM[:SS]]

<a id="OPT_OPTIONS SPECIFICALLY FOR CLUSTER REPORTS"></a>
<DT><B>OPTIONS SPECIFICALLY FOR CLUSTER REPORTS</B>

<DD>
<P>
<a id="OPT_Accounts=&lt;OPT&gt;"></a>
<DT><B>Accounts=&lt;OPT&gt;</B>

<DD>
When used with the UserUtilizationByAccount, or
AccountUtilizationByUser, List of accounts to include in report.
Default is all.
<a id="OPT_Tree"></a>
<DT><B>Tree</B>

<DD>
When used with the AccountUtilizationByUser report will span the
accounts as they are in the hierarchy.
<a id="OPT_Users=&lt;OPT&gt;"></a>
<DT><B>Users=&lt;OPT&gt;</B>

<DD>
When used with any report other than Utilization, List of users to
include in report.  Default is all.
<a id="OPT_Wckeys=&lt;OPT&gt;"></a>
<DT><B>Wckeys=&lt;OPT&gt;</B>

<DD>
When used with the UserUtilizationByWckey or WCKeyUtilizationByUser,
List of wckeys to include in report. Default is all.
<P>
<a id="OPT_OPTIONS SPECIFICALLY FOR JOB REPORTS"></a>
<DT><B>OPTIONS SPECIFICALLY FOR JOB REPORTS</B>

<DD>
<P>
<a id="OPT_Accounts=&lt;OPT&gt;"></a>
<DT><B>Accounts=&lt;OPT&gt;</B>

<DD>
List of accounts to use for the report Default is all.  The SizesByAccount(*)
report only displays 1 hierarchical level. If accounts are specified
the next layer of accounts under those specified will be displayed,
not the accounts specified.  In the SizesByAccount(*) reports the default
for accounts is root.  This explanation does not apply when ran with
the FlatView option.
<a id="OPT_FlatView"></a>
<DT><B>FlatView</B>

<DD>
When used with the SizesbyAccount(*) will not group accounts in a
hierarchical level, but print each account where jobs ran on a
separate line without any hierarchy.
<a id="OPT_GID=&lt;OPT&gt;"></a>
<DT><B>GID=&lt;OPT&gt;</B>

<DD>
List of group ids to include in report.  Default is all.
<a id="OPT_Grouping=&lt;OPT&gt;"></a>
<DT><B>Grouping=&lt;OPT&gt;</B>

<DD>
Comma separated list of size groupings.   (e.g. 50,100,150 would group
job cpu count 1-49, 50-99, 100-149, &gt; 150).  grouping=individual will
result in a single column for each job size found.
<a id="OPT_Jobs=&lt;OPT&gt;"></a>
<DT><B>Jobs=&lt;OPT&gt;</B>

<DD>
List of jobs/steps to include in report.  Default is all.
<a id="OPT_Nodes=&lt;OPT&gt;"></a>
<DT><B>Nodes=&lt;OPT&gt;</B>

<DD>
Only show jobs that ran on these nodes. Default is all.
<a id="OPT_Partitions=&lt;OPT&gt;"></a>
<DT><B>Partitions=&lt;OPT&gt;</B>

<DD>
List of partitions jobs ran on to include in report.  Default is all.
<a id="OPT_PrintJobCount"></a>
<DT><B>PrintJobCount</B>

<DD>
When used with the Sizes report will print number of jobs ran instead
of time used.
<a id="OPT_Users=&lt;OPT&gt;"></a>
<DT><B>Users=&lt;OPT&gt;</B>

<DD>
List of users jobs to include in report.  Default is all.
<a id="OPT_Wckeys=&lt;OPT&gt;"></a>
<DT><B>Wckeys=&lt;OPT&gt;</B>

<DD>
List of wckeys to use for the report.  Default is all.  The
SizesbyWckey report all users summed together.  If you want only
certain users specify them them with the Users= option.
<P>
<a id="OPT_OPTIONS SPECIFICALLY FOR RESERVATION REPORTS"></a>
<DT><B>OPTIONS SPECIFICALLY FOR RESERVATION REPORTS</B>

<DD>
<a id="OPT_Names=&lt;OPT&gt;"></a>
<DT><B>Names=&lt;OPT&gt;</B>

<DD>
List of reservations to use for the report. Default is all.
<a id="OPT_Nodes=&lt;OPT&gt;"></a>
<DT><B>Nodes=&lt;OPT&gt;</B>

<DD>
Only show reservations that used these nodes. Default is all.
<P>
<P>
<a id="OPT_OPTIONS SPECIFICALLY FOR USER REPORTS"></a>
<DT><B>OPTIONS SPECIFICALLY FOR USER REPORTS</B>

<DD>
<P>
<a id="OPT_Accounts=&lt;OPT&gt;"></a>
<DT><B>Accounts=&lt;OPT&gt;</B>

<DD>
List of accounts to use for the report. Default is all.
<a id="OPT_Group"></a>
<DT><B>Group</B>

<DD>
Group all accounts together for each user.  Default is a separate
entry for each user and account reference.
<a id="OPT_TopCount=&lt;OPT&gt;"></a>
<DT><B>TopCount=&lt;OPT&gt;</B>

<DD>
Used in the TopUsage report.  Change the number of users displayed.
Default is 10.
<a id="OPT_Users=&lt;OPT&gt;"></a>
<DT><B>Users=&lt;OPT&gt;</B>

<DD>
List of users jobs to include in report.  Default is all.
<P>
</DL>
<A NAME="lbAI">&nbsp;</A>
<a id="SECTION_FORMAT OPTIONS FOR EACH REPORT"></a>
<H2>FORMAT OPTIONS FOR EACH REPORT</H2>

<P>
<B>FORMAT OPTIONS FOR CLUSTER REPORTS</B>

AccountUtilizationByUser:
<BR>

UserUtilizationByAccount:

Accounts, Cluster, CPUCount, Login, Proper, Used
<P>

UserUtilizationByWckey:
<BR>

WCKeyUtilizationByUser:

Cluster, CPUCount, Login, Proper, Used, Wckey
<P>

Utilization:

Allocated, Cluster, CPUCount, Down, Idle, Overcommited, PlannedDown, Reported, Reserved
<P>
<DL COMPACT>
<a id="OPT_FORMAT OPTIONS FOR JOB REPORTS"></a>
<DT><B>FORMAT OPTIONS FOR JOB REPORTS</B><DD>

SizesByAccount, SizesByAccountAndWckey:

Account, Cluster
<P>

SizesByWckey:

Wckey, Cluster
<P>
<a id="OPT_FORMAT OPTIONS FOR RESERVATION REPORTS"></a>
<DT><B>FORMAT OPTIONS FOR RESERVATION REPORTS</B><DD>

Utilization:

Allocated, Associations, Cluster, CPUCount, CPUTime, End, Idle, Name, Nodes, Start, TotalTime
<P>
<a id="OPT_FORMAT OPTIONS FOR USER REPORTS"></a>
<DT><B>FORMAT OPTIONS FOR USER REPORTS</B><DD>

TopUsage:

Account, Cluster, Login, Proper, Used
<P>
<DT>All commands and options are case-insensitive.<DD>
<P>

</DL>
<A NAME="lbAJ">&nbsp;</A>
<a id="SECTION_EXAMPLES"></a>
<H2>EXAMPLES</H2>

<DL COMPACT>
<a id="OPT_sreport job sizesbyaccount"></a>
<DT><B>sreport job sizesbyaccount</B><DD>
<a id="OPT_sreport cluster utilization"></a>
<DT><B>sreport cluster utilization</B><DD>
<a id="OPT_sreport user top"></a>
<DT><B>sreport user top</B><DD>
<a id="OPT_sreport job sizesbyaccount All_Clusters users=gore1 account=environ PrintJobCount"></a>
<DT><B>sreport job sizesbyaccount All_Clusters users=gore1 account=environ PrintJobCount</B><DD>
Report number of jobs by user gore1 within the environ account
<a id="OPT_sreport cluster AccountUtilizationByUser cluster=zeus user=gore1 start=2/23/08 end=2/24/09 format=Accounts,Cluster,CPUCount,Login,Proper,Used"></a>
<DT><B>sreport cluster AccountUtilizationByUser cluster=zeus user=gore1 start=2/23/08 end=2/24/09 format=Accounts,Cluster,CPUCount,Login,Proper,Used</B><DD>
Report cluster account utilization with the specified fields during
the specified 24 hour day of February 23, 2009, by user gore1
<a id="OPT_sreport cluster AccountUtilizationByUser cluster=zeus accounts=lc start=2/23/08 end=2/24/09"></a>
<DT><B>sreport cluster AccountUtilizationByUser cluster=zeus accounts=lc start=2/23/08 end=2/24/09</B><DD>
Report cluster account utilization by user in the LC account on
cluster zeus
<a id="OPT_sreport user topusage start=2/16/09 end=2/23/09 -t percent account=lc"></a>
<DT><B>sreport user topusage start=2/16/09 end=2/23/09 -t percent account=lc</B><DD>
Report top usage in percent of the lc account during the specified week
<P>
</DL>
<A NAME="lbAK">&nbsp;</A>
<a id="SECTION_COPYING"></a>
<H2>COPYING</H2>

Copyright (C) 2009-2010 Lawrence Livermore National Security.
Produced at Lawrence Livermore National Laboratory (cf, DISCLAIMER).
CODE-OCEC-09-009. All rights reserved.
<P>

This file is part of SLURM, a resource management program.
For details, see &lt;<A HREF="http://www.schedmd.com/slurmdocs/">http://www.schedmd.com/slurmdocs/</A>&gt;.
<P>

SLURM is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2 of the License, or (at your option)
any later version.
<P>

SLURM is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
details.
<P>
<A NAME="lbAL">&nbsp;</A>
<a id="SECTION_SEE ALSO"></a>
<H2>SEE ALSO</H2>

<B><A HREF="sacct.html">sacct</A></B>(1), <B><A HREF="slurmdbd.html">slurmdbd</A></B>(8)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">COMMANDS</A><DD>
<DT><A HREF="#lbAG">REPORT TYPES</A><DD>
<DT><A HREF="#lbAH">REPORT DESCRIPTION</A><DD>
<DT><A HREF="#lbAI">FORMAT OPTIONS FOR EACH REPORT</A><DD>
<DT><A HREF="#lbAJ">EXAMPLES</A><DD>
<DT><A HREF="#lbAK">COPYING</A><DD>
<DT><A HREF="#lbAL">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<i>man2html</i> using the manual pages.<BR>
Time: 09:17:43 GMT, February 08, 2013
</div> <!-- closes "content" -->

<div id="footer">
<div id="left">&nbsp;&nbsp;<a href="disclaimer.html" target="_blank" class="privacy">Legal Notices</a></div>
<div id="right"><span class="ucrlnum">27 June 2011&nbsp;&nbsp;</span></div>
</div>

<div id="footer2">
<div style="clear:both;"></div>
</div>

</div> <!-- closes "container" -->

</body>
</html>
